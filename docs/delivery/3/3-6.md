# [3-6] Content section renderers — text, table, callout, image

[Back to task list](./tasks.md)

## Description

Implement the content section renderer pipeline and four of the six section type renderers: text (via react-markdown), table (HTML table from headers/rows), callout (styled box with 4 variants), and image (with caption). The content renderer reads the `content` JSON array from a lesson and dispatches each section to the appropriate renderer by `type`.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-18 13:34:02 | Created | N/A | Proposed | Task file created | AI_Agent |

## Requirements

1. Content section dispatcher:
   - Reads `content.sections` array from lesson JSON
   - Renders each section by its `type` field
   - Unknown types render a fallback/placeholder
2. **Text renderer** (`type: "text"`):
   - Renders `body` field as Markdown via react-markdown
   - Supports headings, lists, bold/italic, links, inline code
3. **Table renderer** (`type: "table"`):
   - Renders `headers` and `rows` arrays as an HTML `<table>`
   - Styled with Tailwind (striped rows, bordered)
4. **Callout renderer** (`type: "callout"`):
   - Renders `body` in a styled box
   - 4 variants: `prerequisite`, `warning`, `tip`, `info` — each with distinct colour and icon
   - Optional `concept_ref` field (rendered as text for now, linked in PBI 4)
5. **Image renderer** (`type: "image"`):
   - Renders `<img>` from `url` with `alt` text
   - Displays `caption` below the image
6. Install `react-markdown` and `rehype-raw` for HTML-in-markdown support

## Implementation Plan

1. Install `react-markdown`, `rehype-raw`
2. Create `web/src/components/content/ContentRenderer.tsx` — dispatcher
3. Create `web/src/components/content/TextSection.tsx`
4. Create `web/src/components/content/TableSection.tsx`
5. Create `web/src/components/content/CalloutSection.tsx`
6. Create `web/src/components/content/ImageSection.tsx`
7. Create `web/src/components/content/UnknownSection.tsx` — fallback
8. Integrate `ContentRenderer` into `LessonContent` from task 3-5

**External Packages**: This task requires research and a guide document for: `react-markdown`

## Test Plan

- Text sections render Markdown correctly (headings, lists, code)
- Table sections render with correct headers and row data
- Callout boxes display correct colour/icon per variant (prerequisite, warning, tip, info)
- Image sections render `<img>` with alt text and caption
- Unknown section types render a fallback without crashing
- Content with mixed section types renders all correctly in sequence

## Verification

_To be completed during implementation._

## Files Modified

_To be completed during implementation._
