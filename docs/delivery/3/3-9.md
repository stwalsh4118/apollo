# [3-9] Exercise & review question rendering

[Back to task list](./tasks.md)

## Description

Implement rendering for exercises (from the `exercises` JSON field) with progressive hint reveal, and review questions (from the `review_questions` JSON field) in a collapsible section at the end of the lesson.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-18 13:34:02 | Created | N/A | Proposed | Task file created | AI_Agent |
| 2026-02-18 14:14:43 | Status Change | Proposed | InProgress | Started implementation | AI_Agent |
| 2026-02-18 14:17:18 | Status Change | InProgress | Review | Implementation complete, internal AI review passed | AI_Agent |
| 2026-02-19 04:40:46 | Status Change | Review | Done | Task completed and verified | AI_Agent |

## Requirements

1. **Exercise rendering** (from `exercises` JSON):
   - Render exercise instructions
   - Progressive hint reveal: hints hidden by default, revealed one at a time on click
   - Display success criteria
   - Multiple exercises rendered sequentially
2. **Review question rendering** (from `review_questions` JSON):
   - Render in a collapsible "Review Questions" section at the end of the lesson
   - Section collapsed by default to avoid overwhelming the lesson flow
   - Each question shows the prompt; answer revealed on click
3. Styling:
   - Exercises visually distinct from lesson content (bordered section or card)
   - Hints styled progressively (numbered, faded until revealed)
   - Review questions use disclosure/accordion pattern

## Implementation Plan

1. Create `web/src/components/ExerciseBlock.tsx` — single exercise with hint reveal
2. Create `web/src/components/ExerciseList.tsx` — renders all exercises for a lesson
3. Create `web/src/components/ReviewQuestions.tsx` — collapsible section with Q&A
4. Create `web/src/components/CollapsibleSection.tsx` — reusable collapse/expand component
5. Integrate into `LessonContent` below the content sections

## Test Plan

- Exercises render with instructions and success criteria
- Hints are hidden by default
- Clicking "Show hint" reveals hints one at a time in order
- All hints can be revealed sequentially
- Review questions section is collapsed by default
- Expanding review section shows all questions
- Clicking a question reveals its answer
- Multiple exercises render in sequence without interference

## Verification

- [x] `pnpm lint` passes
- [x] `pnpm build` passes (tsc + vite)
- [x] Internal AI review: pass (0 critical, 0 high, 0 medium, 7 low informational)

## Files Modified

- `web/src/components/ExerciseBlock.tsx` — **New**: Single exercise with progressive hint reveal
- `web/src/components/ExerciseList.tsx` — **New**: Renders all exercises for a lesson
- `web/src/components/ReviewQuestions.tsx` — **New**: Collapsible review questions section
- `web/src/components/LessonContent.tsx` — **Modified**: Integrated ExerciseList and ReviewQuestions
