# [3-2] TypeScript types & TanStack Query API client

[Back to task list](./tasks.md)

## Description

Define TypeScript interfaces that mirror the Go API response models for all curriculum entities (topics, modules, lessons, concepts, content sections). Create a thin API client module and TanStack Query hooks for fetching data from the curriculum API endpoints.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-18 13:34:02 | Created | N/A | Proposed | Task file created | AI_Agent |

## Requirements

1. TypeScript interfaces for all API response models:
   - `TopicSummary`, `TopicDetail`, `TopicFull`
   - `ModuleSummary`, `ModuleDetail`, `ModuleFull`
   - `LessonSummary`, `LessonDetail`, `LessonFull`
   - `ConceptSummary`, `ConceptDetail`, `ConceptReference`
   - `PaginatedResponse<T>`
   - Content section types: `TextSection`, `CodeSection`, `CalloutSection`, `DiagramSection`, `TableSection`, `ImageSection` with a discriminated union `ContentSection`
   - Exercise, example, and review question types
2. API client module (`web/src/api/client.ts`) using `fetch` with base URL from proxy
3. TanStack Query hooks:
   - `useTopics()` — list all topics
   - `useTopicDetail(id)` — topic with modules
   - `useTopicFull(id)` — full nested tree
   - `useModuleDetail(id)` — module with lessons
   - `useLessonDetail(id)` — lesson with full content
4. Install TanStack Query: `@tanstack/react-query`
5. Set up `QueryClientProvider` in app entry point

## Implementation Plan

1. Install `@tanstack/react-query`
2. Create `web/src/api/types.ts` with all TypeScript interfaces
3. Create `web/src/api/client.ts` with fetch-based API functions
4. Create `web/src/api/hooks.ts` with TanStack Query hooks
5. Create `web/src/api/index.ts` barrel export
6. Wire `QueryClientProvider` in `main.tsx`

**External Packages**: This task requires research and a guide document for: `@tanstack/react-query`

## Test Plan

- TypeScript compilation passes without errors
- Query hooks are properly typed (no `any` leaks)
- API client functions return correctly typed data when backend is running
- `QueryClientProvider` wraps the app without runtime errors

## Verification

_To be completed during implementation._

## Files Modified

_To be completed during implementation._
