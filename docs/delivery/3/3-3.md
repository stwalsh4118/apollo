# [3-3] App routing & layout shell

[Back to task list](./tasks.md)

## Description

Configure React Router v7 with client-side routes and build the responsive app layout shell. The layout includes a top-level navigation area and a content region that adapts between the topic list view and the course view with sidebar.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-18 13:34:02 | Created | N/A | Proposed | Task file created | AI_Agent |
| 2026-02-18 13:49:45 | Status Change | Proposed | InProgress | Started implementation | AI_Agent |
| 2026-02-18 13:52:57 | Status Change | InProgress | Review | Implementation complete, internal AI review passed | AI_Agent |
| 2026-02-19 04:40:46 | Status Change | Review | Done | Task completed and verified | AI_Agent |

## Requirements

1. Install React Router v7: `react-router`
2. Define routes:
   - `/` — Topic list page
   - `/topics/:id` — Course view (module sidebar + lesson content)
3. Create layout component with:
   - App header/nav bar with "Apollo" branding and back-to-home link
   - Main content area (full-width for topic list, sidebar+content for course view)
4. Responsive behaviour: sidebar collapses on small screens
5. 404 catch-all route with friendly message

## Implementation Plan

1. Install `react-router`
2. Create `web/src/layouts/AppLayout.tsx` — shared header + `<Outlet />`
3. Create placeholder page components: `TopicListPage.tsx`, `CourseViewPage.tsx`, `NotFoundPage.tsx`
4. Configure router in `web/src/router.tsx` with route definitions
5. Wire router into `App.tsx`

**External Packages**: This task requires research and a guide document for: `react-router` (v7)

## Test Plan

- Navigation between `/` and `/topics/:id` works without page reload
- Browser back/forward works correctly
- Direct URL access to `/topics/some-id` renders course view
- Unknown routes show 404 page
- Layout header renders on all routes

## Verification

- TypeScript compilation passes without errors
- ESLint passes with no errors
- Vite build succeeds
- Routes defined: `/` (topic list), `/topics/:id` (course view), `*` (404)
- Layout renders shared header with Apollo branding and Outlet for child routes
- Sidebar responsive behaviour deferred to task 3-5 (course view owns sidebar structure)

## Files Modified

- `web/src/router.tsx` — Route definitions with createBrowserRouter
- `web/src/App.tsx` — RouterProvider integration
- `web/src/layouts/AppLayout.tsx` — Shared layout with header and Outlet
- `web/src/pages/TopicListPage.tsx` — Placeholder topic list page
- `web/src/pages/CourseViewPage.tsx` — Placeholder course view page
- `web/src/pages/NotFoundPage.tsx` — 404 catch-all page
- `docs/delivery/3/3-3-react-router-guide.md` — React Router v7 guide
