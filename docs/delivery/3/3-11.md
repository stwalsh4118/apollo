# [3-11] E2E CoS test

[Back to task list](./tasks.md)

## Description

End-to-end verification that all PBI 3 Conditions of Satisfaction are met. Seed the database with test curriculum data and use Playwright to verify the full user journey from topic list through lesson reading with all content types.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-18 13:34:02 | Created | N/A | Proposed | Task file created | AI_Agent |

## Requirements

Verify all 10 acceptance criteria from PBI 3:

1. **AC1**: React app builds and serves via Vite dev server
2. **AC2**: Topic list page shows topic cards with title, difficulty, description, module count
3. **AC3**: Course view renders module sidebar with all modules and their lessons
4. **AC4**: All 6 content section types render correctly (text, code, callout, diagram, table, image)
5. **AC5**: Shiki syntax highlighting works for bash, json, yaml, go, javascript, typescript
6. **AC6**: Mermaid diagrams render from source field with error fallback
7. **AC7**: Exercises render with progressive hint reveal
8. **AC8**: Review questions render in a collapsible section
9. **AC9**: Navigation between lessons works (prev/next within module, cross-module)
10. **AC10**: API proxy configured so frontend dev server can reach the Go API

## Implementation Plan

1. Create seed data script: insert a test topic with 2+ modules, 3+ lessons containing all 6 content section types, exercises, and review questions via the API
2. Use Playwright MCP tools to verify each acceptance criterion:
   - Start Go backend and Vite dev server
   - Navigate to topic list, verify cards
   - Click into a topic, verify sidebar and modules
   - Verify each content section type renders
   - Verify code highlighting, Mermaid diagrams
   - Verify exercise hints and review questions
   - Test lesson navigation (prev/next, cross-module)
3. Document results in Verification section

## Test Plan

### Objectives
Comprehensive E2E verification of all PBI 3 acceptance criteria.

### Environment & Setup
- Go API running on port 8080 with seeded test data
- Vite dev server running on port 5173 with API proxy

### Key Scenarios

| # | Scenario | Acceptance Criterion |
|---|----------|---------------------|
| 1 | Build succeeds, dev server starts | AC1 |
| 2 | Topic list shows cards with all required fields | AC2 |
| 3 | Course view shows module sidebar, expand modules, see lessons | AC3 |
| 4 | Text section renders Markdown | AC4 |
| 5 | Code section renders with Shiki highlighting | AC4, AC5 |
| 6 | Callout sections render all 4 variants | AC4 |
| 7 | Diagram section renders Mermaid SVG | AC4, AC6 |
| 8 | Table section renders headers + rows | AC4 |
| 9 | Image section renders with caption | AC4 |
| 10 | Invalid Mermaid shows error fallback | AC6 |
| 11 | Exercise hints reveal progressively | AC7 |
| 12 | Review questions collapse/expand | AC8 |
| 13 | Next/prev navigation within module | AC9 |
| 14 | Cross-module navigation | AC9 |
| 15 | API proxy forwards /api requests | AC10 |

### Success Criteria
All 15 scenarios pass. All 10 acceptance criteria verified.

## Verification

_To be completed during implementation._

## Files Modified

_To be completed during implementation._
