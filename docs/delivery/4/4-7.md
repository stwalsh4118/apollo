# [4-7] Personal notes textarea

[Back to task list](./tasks.md)

## Description

Add an inline notes textarea to each lesson that persists user notes via the progress API. Notes are stored in the `learning_progress.notes` column.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-19 05:11:17 | Created | N/A | Proposed | Task file created | AI_Agent |
| 2026-02-19 05:33:54 | Status Change | Proposed | InProgress | Started implementation | AI_Agent |
| 2026-02-19 05:34:57 | Status Change | InProgress | Review | Implementation complete, internal AI review passed | AI_Agent |
| 2026-02-19 06:23:56 | Status Change | Review | Done | Task completed and verified | AI_Agent |

## Requirements

1. Notes textarea rendered inline within the lesson view (below content, above Mark Complete button)
2. Textarea loads existing notes from the lesson's progress data
3. Save mechanism: explicit "Save Notes" button (simpler, more predictable than auto-save)
4. Uses `useUpdateLessonProgress` mutation to persist notes â€” sends current status + updated notes
5. Show save confirmation (e.g., brief "Saved" indicator)
6. Textarea should have reasonable height, grow with content, and use placeholder text

## Implementation Plan

1. Add a notes section to `LessonContent` between the review questions and the Mark Complete button
2. Use local state for textarea value, initialized from progress data
3. Wire "Save Notes" button to the `useUpdateLessonProgress` mutation
4. Fetch current lesson progress to populate existing notes (can reuse topic progress data)

## Test Plan

- Notes textarea renders in the lesson view
- Existing notes load from progress data on page load
- Typing in textarea updates local state
- Clicking "Save Notes" calls PUT with notes content
- Save confirmation appears after successful save
- Notes persist across page reloads (browser verification)

## Verification

_To be completed during implementation._

## Files Modified

- `web/src/components/LessonContent.tsx`
